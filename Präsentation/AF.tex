  \documentclass{beamer}

%Style
\usetheme{Warsaw}

\setbeamercolor{normal text}{fg=white,bg=black!90}
\setbeamercolor{structure}{fg=white}

\setbeamercolor{alerted text}{fg=red!85!black}

\setbeamercolor{item projected}{use=item,fg=black,bg=item.fg!35}

\setbeamercolor*{palette primary}{use=structure,fg=structure.fg}
\setbeamercolor*{palette secondary}{use=structure,fg=structure.fg!95!black}
\setbeamercolor*{palette tertiary}{use=structure,fg=structure.fg!90!black}
\setbeamercolor*{palette quaternary}{use=structure,fg=structure.fg!95!black,bg=black!80}

\setbeamercolor*{framesubtitle}{fg=white}

\setbeamercolor*{block title}{parent=structure,bg=black!60}
\setbeamercolor*{block body}{fg=black,bg=black!10}
\setbeamercolor*{block title alerted}{parent=alerted text,bg=black!15}
\setbeamercolor*{block title example}{parent=example text,bg=black!15}
%Packages

\usepackage[utf8]{inputenc}
\usepackage[ngerman]{babel}
\usepackage{graphicx}
\usepackage{booktabs}
\usepackage{xcolor}
\usepackage{ulem}

\title[]{Entwicklung eines autonomen Fahrzeugs}
\author{Sven Thomas \& Maximilian Biebl}
\institute[THM]{Technische Hochschule Mittelhessen}
\date{}

\begin{document}

	\begin{frame}
		\begin{center}
				\begin{figure}[h]
					\includegraphics[width=0.60\textwidth]{"./img/Auto"}
					\label{fig:Auto}
				\end{figure}
		\end{center}
		\titlepage
			
	\end{frame}

	\begin{frame}
		\frametitle{Inhalt}
		\tableofcontents
	\end{frame}

	\section{Linienerkennung und Lenkung}
	

	\subsection{Erster funktionsfähiger Ansatz}

	\begin{frame}
		\frametitle{Grundidee}
	

		\begin{itemize}
			\item Linienerkennung mit Houghline
			\item errechnen eines \glqq Durschnitts-X\grqq aus den links und rechts erkannten X-Koordinaten $\Rightarrow$ Soll-Fahrbahn
			\item Bildmitte $\Rightarrow$ Ist-Fahrbahn
			\item Wie weiter die beiden X-Koordinaten getrennt sind um so stärker müssen wir lenken 
		\end{itemize}
	\end{frame}

	\begin{frame}
		\frametitle{Probleme mit Mittellinie}
		\begin{center}
			\begin{figure}[h]
				\includegraphics[width=0.50\textwidth]{"./img/mittellinie"}
				\label{fig:Mittellinie}
			\end{figure}
		\end{center}
		
		\begin{itemize}
			\item Houghline zu empfindlich $\Rightarrow$ zuviel \glqq Beifang\grqq 
			\item Houghline zu grob $\Rightarrow$ Probleme bei Kurven
			\item einfach Außenlinie nehmen und 1,25x des Durschnitts-X als Soll-Fahrbahn
		\end{itemize}
	\end{frame}


	\subsection{Erster Ansatz zur Lenkwinkelbestimmung}
	
	\begin{frame}
		\frametitle{"Discopumper-Algorithmus" für Region-of-Interest}
		\begin{itemize}
			\item RoI bekommt festen Startbereich
			\item wir nehmen erstmal alles was wir bekommen an X-Koordinaten
			\item wenn wir nichts finden müssen wir breiter werden
			\item wenn wir immer noch nichts finden nehmen wir das letzte was wir hatten
		\end{itemize}

		\begin{center}
			\begin{figure}[h]
				\includegraphics[width=0.40\textwidth]{"./img/roi_breite"}
				\label{fig:roi}
				\caption{Unterschiedlich große RoI}
			\end{figure}
		\end{center}
 	\end{frame}

	\begin{frame}
		\frametitle{Verbesserung durch Top-Down-View}
		\begin{center}
			\begin{figure}[h]
				\includegraphics[width=0.50\textwidth]{"./img/longneck"}
				\label{fig:longneck}
			\end{figure}
		\end{center}

	\begin{itemize}
		\item opimierung durch Top-Down-View
		\item Kamera schaut senkrecht vor dem Auto nach unten
		\item könnte realistischer werden, durch Bildtransformation zu einem "pseudo" Top-Down 
	\end{itemize}
	\end{frame}

	\begin{frame}
		\frametitle{Top-Down-View}
		\begin{center}
			\begin{figure}[h]
				\includegraphics[width=\textwidth]{"./img/topdown _view"}
				\label{fig:topdown}
			\end{figure}
		\end{center}

		\begin{itemize}
			\item \colorbox{red}{linke Linie}
			\item \colorbox{green}{rechte Linie}
			\item \colorbox{violet}{errechnete Mittellinie}
			\item \colorbox{white}{\color{black}{Bildmitte $	\Leftrightarrow$ Automitte}}
			\item \colorbox{blue}{1.25-Fache der Mittellinie $\Rightarrow$ Soll-Fahrbahn}
		\end{itemize}
	$\Rightarrow$ $\text{Lenkwinkel} = \text{SollFahrbahn}_X - \text{Bildmitte}_X$
	\end{frame}
	
	\begin{frame}
		\center
		Funktioniert, aber hat einige Probleme was höhere Geschwindgkeiten betrifft.
	\end{frame}
	
	\subsection{Neuer Ansatz}
	
	\begin{frame}
		\frametitle{Eine neue Hoffnung}
		\begin{center}
			\begin{figure}[h]
				\includegraphics[width=0.5\textwidth]{"./img/neuer_ansatz"}
				\label{fig:neuer_ansatz}
			\end{figure}
		\end{center}
		
		\begin{itemize}
			\item suchen bis weißer Punkt gefunden wird
			\item neuer Punkt wird nur akzeptiert, wenn
			\begin{enumerate}
			\item die Differenz zwischen dem alten und neuen Punkt nicht größer als 30 Pixel ist
			\item und wenn 25 pixel daneber ein schwarzer Pixel ist $\Rightarrow$ für Boxen und horizonatle Linien
			\end{enumerate}
			\item gelbe Linien beschränken den Suchbereich
		\end{itemize}
		
		
	\end{frame}

	\section{Überholmanöver}
	
	\subsection{Einleitung des Manövers}
	
	\begin{frame}
		\frametitle{Einleitung des Manövers}
		\begin{itemize}
			\item schmaler ToF-Sensor an Front
			\item erkennt an Schwellenwert ob ein Überholmanöver nötig ist
			\item links breiter ToF für 'Schulterblick'
			\item Schulterblick ok $\Rightarrow$ starte mit Phase 1 und blockiere zunächst die linienbasierte Lenkung
		\end{itemize}
		\begin{center}
			\begin{figure}[h]
				\includegraphics[width=0.5\textwidth]{"./img/tof_sensoren"}
				\label{fig:topdown}
			\end{figure}
		\end{center}
	\end{frame}
	
	\subsection{5 Phasen des Manövers}
	
	\begin{frame}
		\frametitle{1.Phase Spurwechsel}
		\begin{center}
			\begin{figure}[h]
				\includegraphics[width=0.5\textwidth]{"./img/ueberholen"}
				\label{fig:topdown}
			\end{figure}
		\end{center}
		\begin{itemize}
			\item Spurwechsel sei vereinfacht eine Gerade
			\item \colorbox{red}{Überholgerade}
			\item \colorbox{green}{Spurwechseldistanz}
			\item $\beta$ = Lenkwinkel
		\end{itemize}
		aus Strecke c und Geschwindigkeit $\Rightarrow$  Dauer des Spurwechsels
	\end{frame}
	
	\begin{frame}
		\frametitle{2.Phase RoI-Wechsel + Warten auf die zu überholende Box}
		\begin{itemize}
			\item versetzen der Grenzlinien für Lane Detection
			\item setzen eines neuen Faktors für Soll-Fahrbahn
			\item starte wieder die linienbasierte Lenkung
			\item warten bis rechts die Box ist
		\end{itemize}
	\end{frame}
	
	\begin{frame}
		\frametitle{Phasen 3 bis 5}
		\begin{enumerate}
			\setcounter{enumi}{2}
			\item Wagen ist auf der linken Spur und wartet bis er an  der Box vorbei ist
			\item Spiegelverkehrt zu Phase 2 wechsel der Grenzlinien 
			\item Spiegelverkehrt zu Phase 1 Spurwechsel zurück
		\end{enumerate}
	\end{frame}
	
	\section{Parken}
	
	\subsection{Finden der Parklücke}
	
	\begin{frame}
		\frametitle{Erkennen einer Parklücke in 4 Phasen}
		
		\begin{enumerate}
			\item Erkennen der ersten Box
			\item Erkennen der Lücke
			\item Erkennung der zweiten Box
			\item Einleiten des Parkmanövers
		\end{enumerate}
		
		\begin{center}
			\begin{figure}[h]
				\includegraphics[width=0.8\textwidth]{"./img/Parken"}
				\label{fig:Parken1}
			\end{figure}
		\end{center}
	\end{frame}
	
	\subsection{Einparken}
	
	\begin{frame}
		\frametitle{Einparken in 3 Phasen}
		
		\begin{enumerate}
			\item fährt rückwärts bis Box nicht mehr zusehen ist und führt Spurwechsel aus.
			\item in der Parlücke $\Rightarrow$ fährt Rückwärts bis hinterer ToF Schwellenwert erreicht.
			\item Ausparken $\Rightarrow$ Spurwechsel vorwärts und anschließend übergang in normalen Modus
		\end{enumerate}
		
		\begin{center}
			\begin{figure}[h]
				\includegraphics[width=0.6\textwidth]{"./img/Parken2"}
				\label{fig:Parken2}
			\end{figure}
		\end{center}
		
	\end{frame}
	
	\section{Geschwindigkeitsregler}
	 
	\begin{frame}
	\frametitle{Geschwindigkeitsregler}
	sehr primitiv:
		\begin{itemize}
			\item nur außerhalb von Manövern aktiv
			\item bestimmung anhand Lenkwinkel
			\item Lenkwinkel kleiner als Schwellwert $\Rightarrow$ beschleunigen
			\item nach Delay immernoch kleiner als Schwellwert $\Rightarrow$ weiter beschleunigen
			\item Schwellwert überschritten $\Rightarrow$ zurück auf Minimalgeschwindigkeit
		\end{itemize}
	\end{frame}
	
	\begin{frame}
		\center
		DANKE FÜR IHRE AUFMERKSAMKEIT!
	\end{frame}
\end{document}